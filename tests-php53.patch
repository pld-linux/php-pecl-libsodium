
upstream:
https://github.com/jedisct1/libsodium-php/pull/81

--- php-pecl-libsodium-1.0.2/tests/utils.phpt	2016-01-28 21:43:00.641808352 +0200
+++ php-pecl-libsodium-1.0.2/tests/utils.phpt	2016-01-28 21:45:37.116534064 +0200
@@ -11,15 +11,15 @@
 $c = 'string';
 var_dump(!\Sodium\memcmp($b, $c));
 var_dump(!\Sodium\memcmp($b, 'String'));
-$v = hex2bin('FFFF800102030405060708');
+$v = "\xFF\xFF\x80\x01\x02\x03\x04\x05\x06\x07\x08";
 \Sodium\increment($v);
 var_dump(bin2hex($v));
 
 if (\Sodium\library_version_major() > 7 ||
     (\Sodium\library_version_major() == 7 &&
      \Sodium\library_version_minor() >= 6)) {
-    $v_1 = hex2bin('0102030405060708090A0B0C0D0E0F101112131415161718191A1B1C1D1E1F');
-    $v_2 = hex2bin('0202030405060708090A0B0C0D0E0F101112131415161718191A1B1C1D1E1F');
+    $v_1 = "\x01\x02\x03\x04\x05\x06\x07\x08\x09\x0A\x0B\x0C\x0D\x0E\x0F\x10\x11\x12\x13\x14\x15\x16\x17\x18\x19\x1A\x1B\x1C\x1D\x1E\x1F";
+    $v_2 = "\x02\x02\x03\x04\x05\x06\x07\x08\x09\x0A\x0B\x0C\x0D\x0E\x0F\x10\x11\x12\x13\x14\x15\x16\x17\x18\x19\x1A\x1B\x1C\x1D\x1E\x1F";
     var_dump(\Sodium\compare($v_1, $v_2));
     \Sodium\increment($v_1);
     var_dump(\Sodium\compare($v_1, $v_2));
@@ -32,5 +32,5 @@
 $str = 'stdClass';
 \Sodium\memzero($str);
-$obj = json_decode(json_encode(['foo' => 'bar']));
+$obj = json_decode(json_encode(array('foo' => 'bar')));
 var_dump($obj);
 ?>
